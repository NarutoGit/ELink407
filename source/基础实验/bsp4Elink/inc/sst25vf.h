#ifndef __SST25VF_H
#define __SST25VF_H
#include "stm32f4xx.h"

#define BufferSize                    (countof(Tx_Buffer)-1)
#define countof(a)                    (sizeof(a) / sizeof(*(a)))
#define SST25V_PageSize               256
#define Dummy_Byte                    0xA5

#define SST25V_CS_LOW()               GPIO_ResetBits(GPIOA, GPIO_Pin_15)
#define SST25V_CS_HIGH()              GPIO_SetBits(GPIOA, GPIO_Pin_15)


#define Read_Data                     0x03       //???????
#define HighSpeedReadData             0x0B       //?????????
#define SectorErace_4KB               0x20       //????
#define BlockErace_32KB               0x52       //32KB???
#define BlockErace_64KB               0xD8       //64KB???
#define ChipErace                     0xC7       //???

#define Byte_Program                  0x02       //????--???
#define AAI_WordProgram               0xAD
#define ReadStatusRegister            0x05       //??????
#define EnableWriteStatusRegister     0x50
#define WriteStatusRegister           0x01       //??????

#define WriteEnable                   0x06       //???,???????
#define WriteDisable                  0x04       //???
#define ReadDeviceID                  0xAB       //????ID??

#define ReadJedec_ID                  0x9F       //JEDEC?ID??

#define EBSY                          0X70       //??AAI????,SO????????
#define DBSY                          0X80       //??AAI????,SO????????

void SST25V_Init(void);   //Flash?????

u8 SST25V_ByteRead(u32 ReadAddr);   //?ReadAddr??????????

void SST25V_BufferRead(u8* pBuffer, u32 ReadAddr, u16 NumByteToRead);  //?ReadAddr??????NumByteToRead?????

u8 SST25V_HighSpeedByteRead(u32 ReadAddr);  //?ReadAddr??????????

void SST25V_HighSpeedBufferRead(u8* pBuffer, u32 ReadAddr, u16 NumByteToRead);//?ReadAddr??????NumByteToRead?????,????pBuffer?

u8 SPI_Flash_SendByte(u8 byte);   //SPI????

u8 SPI_Flash_ReceiveByte(void);    //SPI????

void SST25V_ByteWrite(u8 Byte, u32 WriteAddr);   //????????

void SST25V_BufferWrite(u8 *pBuffer,u32 Addr,u16 BufferLength);//?pBuffer??BufferLength?????????Addr????????

void SST25V_WriteBytes(u8 Byte, u32 WriteAddr,u32 ByteLength);  //?WriteAddr?????,??ByteLength???Byte(?????????Byte)

void SST25V_AAI_WriteBytes(u8 Byte, u32 Addr,u32 ByteLength);  //?Addr?????,?AAI??,??ByteLength???Byte(?????????Byte)ByteLength?????

void SST25V_AAI_BufferProgram(u8 *pBuffer,u32 Addr,u16 BufferLength);  //?AAI???pBuffer??BufferLength?????????Addr????????,ByteLength?????

void SST25V_AAI_WordProgram(u8 Byte1, u8 Byte2, u32 Addr); //?AAI???,?Addr?????,????Byte1?Byte2,???SST25V_AAI_WordsProgram()??????

void SST25V_AAI_WordsProgram(u8 state,u8 Byte1, u8 Byte2); //?AAI???,????Byte1?Byte2,???SST25V_AAI_WordProgram()??????,state==1??AAI??

void SST25V_SectorErase_4KByte(u32 Addr);    //??4KB????,Addr???????

void SST25V_BlockErase_32KByte(u32 Addr);         //??32KB????,Addr???????

void SST25V_BlockErase_64KByte(u32 Addr);         //??64KB????,Addr???????

void SST25V_ChipErase(void);            //??????????

u8 SST25V_ReadStatusRegister(void);    //???????

void SST25V_WriteEnable(void);          //?????????

void SST25V_WriteDisable(void);         //?????????

void SST25V_EnableWriteStatusRegister(void);        //?????????

void SST25V_WriteStatusRegister(u8 Byte);      //???????,??????????Byte

void SST25V_WaitForWriteEnd(void);     //????????

u32 SST25V_ReadJedecID(void);       //??JEDEC ID

u16 SST25V_ReadManuID_DeviceID(u32 ReadManu_DeviceID_Addr); //??ManufacturerID?DeviceID,ReadManu_DeviceID_Addr???????????DeviceID??ManufacturerID

void SST25V_EBSY(void);    //??AAI????,SO??????

void SST25V_DBSY(void);            //??AAI????,SO??????

void init_spi(void);

#endif
